{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst THE_CAT_API_KEY =\n  'live_ZRgbBHJqgNMula4MM0iCWTzXUjzZl2DkCaQ88DwD6Vsb5qyd5uxrl2YpDd75X6oV';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\naxios.defaults.headers.common['x-api-key'] = THE_CAT_API_KEY;\n\nasync function fetchBreeds() {\n  const url = `breeds`;\n  try {\n    const response = await axios.get(url);\n    const listOfBreeds = response.data;\n    return listOfBreeds;\n  } catch (error) {\n    if (error.code === 'ERR_BAD_REQUEST') {\n      console.log('Error', 'Bad request!');\n    }\n    throw new Error(error);\n  }\n}\n\nasync function fetchCatByBreed(breedId) {\n  const url = `images/search?breed_ids=${breedId}`;\n  try {\n    const response = await axios.get(url);\n    const catByBreed = response.data;\n    return catByBreed;\n  } catch (error) {\n    if (error.code === 'ERR_BAD_REQUEST') {\n      console.log('Error', 'Bad request!');\n    }\n    throw new Error(error);\n  }\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst textLoader = document.querySelector('.loader');\nconst textError = document.querySelector('.error');\nconst containerInfo = document.querySelector('.cat-info');\n\nconst hiddenStyle = 'display: none;';\nconst visibleStyle = 'display: block;';\n\nselectEl.addEventListener('click', handleOption);\n\ntextLoader.style.cssText = hiddenStyle;\ntextError.style.cssText = hiddenStyle;\n\nasync function getBreeds() {\n  try {\n    textLoader.style.cssText = visibleStyle;\n    const result = await fetchBreeds();\n    console.log('getBreeds: ', result);\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.style.cssText = visibleStyle;\n  } finally {\n    textLoader.style.cssText = hiddenStyle;\n  }\n}\n\ngetBreeds()\n  .then(data => {\n    return data\n      .map(cat => {\n        const markup = `<option value=${cat.id} key=${cat.id}>${cat.name}</option>`;\n        selectEl.insertAdjacentHTML('beforeend', markup);\n      })\n      .join('');\n  })\n  .catch(error => {\n    console.log(error);\n    textError.style.cssText = visibleStyle;\n  });\n\nasync function getCatByBreed(breedId) {\n  try {\n    textLoader.style.cssText = visibleStyle;\n    const result = await fetchCatByBreed(breedId);\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.style.cssText = visibleStyle;\n  } finally {\n    textLoader.style.cssText = hiddenStyle;\n  }\n}\n\nfunction handleOption(evt) {\n  evt.preventDefault();\n  const breedId = evt.target.value;\n  getCatByBreed(breedId)\n    .then(cat => {\n      console.log('Cat by breed: ', cat[0]);\n      const markup = `<div style=\"display: flex; flex-direction: row\">\n        <div\n          style=\"\n            margin-top: 30px;\n            margin-right: 30px;\n            width: 350px;\n            background-color: grey;\n            border-radius: 4px 4px 4px 4px;\n            box-shadow: 0px 2px 1px 0px rgba(46, 47, 66, 0.08),\n              0px 1px 1px 0px rgba(46, 47, 66, 0.16),\n              0px 1px 6px 0px rgba(46, 47, 66, 0.08);\n              overflow: hidden;\n          \"\n        >\n          <img\n            src=${cat[0]?.url}\n            alt=${cat[0]?.breeds[0]?.name}\n            style=\"\n              display: block;\n              width: 100%;\n            \"\n          />\n        </div>\n        <div style=\"display: block; margin-top: 30px\">\n          <h1 style=\"font-size: x-large; font-weight: 700; margin-bottom: 16px\">\n            ${cat[0]?.breeds[0]?.name}\n          </h1>\n          <p style=\"margin-bottom: 12px\">${cat[0]?.breeds[0]?.description}</p>\n          <p>\n            <span style=\"font-weight: 700; padding-right: 8px\">Temperament:</span>${cat[0]?.breeds[0]?.temperament}\n          </p>\n        </div>\n      </div>`;\n      containerInfo.innerHTML = markup;\n    })\n    .catch(error => {\n      console.log(error);\n      textError.style.cssText = visibleStyle;\n    });\n}\n"],"names":["THE_CAT_API_KEY","axios","fetchBreeds","url","error","fetchCatByBreed","breedId","selectEl","textLoader","textError","containerInfo","hiddenStyle","visibleStyle","handleOption","getBreeds","result","data","cat","markup","getCatByBreed","evt","_a","_c","_b","_e","_d","_g","_f","_i","_h"],"mappings":"svBAEA,MAAMA,EACJ,wEAEFC,EAAM,SAAS,QAAU,gCACzBA,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,eAAeE,GAAc,CAC3B,MAAMC,EAAM,SACZ,GAAI,CAGF,OAFiB,MAAMF,EAAM,IAAIE,CAAG,GACN,IAE/B,OAAQC,EAAP,CACA,MAAIA,EAAM,OAAS,mBACjB,QAAQ,IAAI,QAAS,cAAc,EAE/B,IAAI,MAAMA,CAAK,CACtB,CACH,CAEA,eAAeC,EAAgBC,EAAS,CACtC,MAAMH,EAAM,2BAA2BG,IACvC,GAAI,CAGF,OAFiB,MAAML,EAAM,IAAIE,CAAG,GACR,IAE7B,OAAQC,EAAP,CACA,MAAIA,EAAM,OAAS,mBACjB,QAAQ,IAAI,QAAS,cAAc,EAE/B,IAAI,MAAMA,CAAK,CACtB,CACH,CChCA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAgB,SAAS,cAAc,WAAW,EAElDC,EAAc,iBACdC,EAAe,kBAErBL,EAAS,iBAAiB,QAASM,CAAY,EAE/CL,EAAW,MAAM,QAAUG,EAC3BF,EAAU,MAAM,QAAUE,EAE1B,eAAeG,GAAY,CACzB,GAAI,CACFN,EAAW,MAAM,QAAUI,EAC3B,MAAMG,EAAS,MAAMb,IACrB,eAAQ,IAAI,cAAea,CAAM,EAC1BA,CACR,OAAQX,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBK,EAAU,MAAM,QAAUG,CAC9B,QAAY,CACRJ,EAAW,MAAM,QAAUG,CAC5B,CACH,CAEAG,EAAW,EACR,KAAKE,GACGA,EACJ,IAAIC,GAAO,CACV,MAAMC,EAAS,iBAAiBD,EAAI,UAAUA,EAAI,MAAMA,EAAI,gBAC5DV,EAAS,mBAAmB,YAAaW,CAAM,CACvD,CAAO,EACA,KAAK,EAAE,CACX,EACA,MAAMd,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBK,EAAU,MAAM,QAAUG,CAC9B,CAAG,EAEH,eAAeO,EAAcb,EAAS,CACpC,GAAI,CACF,OAAAE,EAAW,MAAM,QAAUI,EACZ,MAAMP,EAAgBC,CAAO,CAE7C,OAAQF,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBK,EAAU,MAAM,QAAUG,CAC9B,QAAY,CACRJ,EAAW,MAAM,QAAUG,CAC5B,CACH,CAEA,SAASE,EAAaO,EAAK,CACzBA,EAAI,eAAc,EAClB,MAAMd,EAAUc,EAAI,OAAO,MAC3BD,EAAcb,CAAO,EAClB,KAAKW,GAAO,uBACX,QAAQ,IAAI,iBAAkBA,EAAI,EAAE,EACpC,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAeHG,EAAAJ,EAAI,KAAJ,YAAAI,EAAQ;AAAA,mBACRC,GAAAC,EAAAN,EAAI,KAAJ,YAAAM,EAAQ,OAAO,KAAf,YAAAD,EAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eASvBE,GAAAC,EAAAR,EAAI,KAAJ,YAAAQ,EAAQ,OAAO,KAAf,YAAAD,EAAmB;AAAA;AAAA,4CAEUE,GAAAC,EAAAV,EAAI,KAAJ,YAAAU,EAAQ,OAAO,KAAf,YAAAD,EAAmB;AAAA;AAAA,qFAEsBE,GAAAC,EAAAZ,EAAI,KAAJ,YAAAY,EAAQ,OAAO,KAAf,YAAAD,EAAmB;AAAA;AAAA;AAAA,cAIjGlB,EAAc,UAAYQ,CAChC,CAAK,EACA,MAAMd,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBK,EAAU,MAAM,QAAUG,CAChC,CAAK,CACL"}