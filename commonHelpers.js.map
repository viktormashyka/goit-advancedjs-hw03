{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst THE_CAT_API_KEY =\n  'live_ZRgbBHJqgNMula4MM0iCWTzXUjzZl2DkCaQ88DwD6Vsb5qyd5uxrl2YpDd75X6oV';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\naxios.defaults.headers.common['x-api-key'] = THE_CAT_API_KEY;\n\nasync function fetchBreeds() {\n  const url = `breeds`;\n\n  const { data } = await axios.get(url);\n  return data;\n}\n\nasync function fetchCatByBreed(breedId) {\n  const url = `images/search?breed_ids=${breedId}`;\n\n  const { data } = await axios.get(url);\n  return data;\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst textLoader = document.querySelector('.loader');\nconst textError = document.querySelector('.error');\nconst containerInfo = document.querySelector('.cat-info');\n\nselectEl.addEventListener('change', handleOption);\n\nasync function getBreeds() {\n  try {\n    selectEl.classList.add('hidden');\n    textLoader.classList.remove('hidden');\n    const result = await fetchBreeds();\n    console.log('getBreeds: ', result);\n    if (result) {\n      selectEl.classList.remove('hidden');\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.classList.remove('hidden');\n  } finally {\n    textLoader.classList.add('hidden');\n  }\n}\n\ngetBreeds()\n  .then(data => {\n    return data\n      .map(cat => {\n        const markup = `<option value=${cat.id} key=${cat.id}>${cat.name}</option>`;\n        selectEl.insertAdjacentHTML('beforeend', markup);\n      })\n      .join('');\n  })\n  .catch(error => {\n    console.log(error);\n    textError.classList.remove('hidden');\n  });\n\nasync function getCatByBreed(breedId) {\n  try {\n    selectEl.classList.add('hidden');\n    containerInfo.classList.add('hidden');\n    textError.classList.add('hidden');\n    textLoader.classList.remove('hidden');\n    const result = await fetchCatByBreed(breedId);\n    if (result) {\n      selectEl.classList.remove('hidden');\n      containerInfo.classList.remove('hidden');\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.classList.remove('hidden');\n  } finally {\n    textLoader.classList.add('hidden');\n  }\n}\n\nfunction handleOption(evt) {\n  evt.preventDefault();\n  const breedId = evt.target.value;\n  getCatByBreed(breedId)\n    .then(cat => {\n      containerInfo.innerHTML = '';\n      console.log('Cat by breed: ', cat[0]);\n      const markup = `<div style=\"display: flex; flex-direction: row\">\n        <div\n          style=\"\n            margin-top: 30px;\n            margin-right: 30px;\n            width: 350px;\n            background-color: grey;\n            border-radius: 4px 4px 4px 4px;\n            box-shadow: 0px 2px 1px 0px rgba(46, 47, 66, 0.08),\n              0px 1px 1px 0px rgba(46, 47, 66, 0.16),\n              0px 1px 6px 0px rgba(46, 47, 66, 0.08);\n              overflow: hidden;\n          \"\n        >\n          <img\n            src=${cat[0].url}\n            alt=${cat[0].breeds[0].name}\n            style=\"\n              display: block;\n              width: 100%;\n            \"\n          />\n        </div>\n        <div style=\"display: block; margin-top: 30px\">\n          <h1 style=\"font-size: x-large; font-weight: 700; margin-bottom: 16px\">\n            ${cat[0].breeds[0].name}\n          </h1>\n          <p style=\"margin-bottom: 12px\">${cat[0].breeds[0].description}</p>\n          <p>\n            <span style=\"font-weight: 700; padding-right: 8px\">Temperament:</span>${cat[0]?.breeds[0]?.temperament}\n          </p>\n        </div>\n      </div>`;\n      if (cat) {\n        containerInfo.classList.remove('hidden');\n      }\n      containerInfo.innerHTML = markup;\n    })\n    .catch(error => {\n      console.log(error);\n      textError.classList.remove('hidden');\n    });\n}\n"],"names":["THE_CAT_API_KEY","axios","fetchBreeds","url","data","fetchCatByBreed","breedId","selectEl","textLoader","textError","containerInfo","handleOption","getBreeds","result","error","cat","markup","getCatByBreed","evt","_b","_a"],"mappings":"svBAEA,MAAMA,EACJ,wEAEFC,EAAM,SAAS,QAAU,gCACzBA,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,eAAeE,GAAc,CAC3B,MAAMC,EAAM,SAEN,CAAE,KAAAC,CAAI,EAAK,MAAMH,EAAM,IAAIE,CAAG,EACpC,OAAOC,CACT,CAEA,eAAeC,EAAgBC,EAAS,CACtC,MAAMH,EAAM,2BAA2BG,IAEjC,CAAE,KAAAF,CAAI,EAAK,MAAMH,EAAM,IAAIE,CAAG,EACpC,OAAOC,CACT,CClBA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAgB,SAAS,cAAc,WAAW,EAExDH,EAAS,iBAAiB,SAAUI,CAAY,EAEhD,eAAeC,GAAY,CACzB,GAAI,CACFL,EAAS,UAAU,IAAI,QAAQ,EAC/BC,EAAW,UAAU,OAAO,QAAQ,EACpC,MAAMK,EAAS,MAAMX,IACrB,eAAQ,IAAI,cAAeW,CAAM,EAC7BA,GACFN,EAAS,UAAU,OAAO,QAAQ,EAE7BM,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACvC,QAAY,CACRD,EAAW,UAAU,IAAI,QAAQ,CAClC,CACH,CAEAI,EAAW,EACR,KAAKR,GACGA,EACJ,IAAIW,GAAO,CACV,MAAMC,EAAS,iBAAiBD,EAAI,UAAUA,EAAI,MAAMA,EAAI,gBAC5DR,EAAS,mBAAmB,YAAaS,CAAM,CACvD,CAAO,EACA,KAAK,EAAE,CACX,EACA,MAAMF,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACvC,CAAG,EAEH,eAAeQ,EAAcX,EAAS,CACpC,GAAI,CACFC,EAAS,UAAU,IAAI,QAAQ,EAC/BG,EAAc,UAAU,IAAI,QAAQ,EACpCD,EAAU,UAAU,IAAI,QAAQ,EAChCD,EAAW,UAAU,OAAO,QAAQ,EACpC,MAAMK,EAAS,MAAMR,EAAgBC,CAAO,EAC5C,OAAIO,IACFN,EAAS,UAAU,OAAO,QAAQ,EAClCG,EAAc,UAAU,OAAO,QAAQ,GAElCG,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACvC,QAAY,CACRD,EAAW,UAAU,IAAI,QAAQ,CAClC,CACH,CAEA,SAASG,EAAaO,EAAK,CACzBA,EAAI,eAAc,EAClB,MAAMZ,EAAUY,EAAI,OAAO,MAC3BD,EAAcX,CAAO,EAClB,KAAKS,GAAO,SACXL,EAAc,UAAY,GAC1B,QAAQ,IAAI,iBAAkBK,EAAI,EAAE,EACpC,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAeHD,EAAI,GAAG;AAAA,kBACPA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cASrBA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA,2CAEYA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA,qFAEwBI,GAAAC,EAAAL,EAAI,KAAJ,YAAAK,EAAQ,OAAO,KAAf,YAAAD,EAAmB;AAAA;AAAA;AAAA,cAI7FJ,GACFL,EAAc,UAAU,OAAO,QAAQ,EAEzCA,EAAc,UAAYM,CAChC,CAAK,EACA,MAAMF,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBL,EAAU,UAAU,OAAO,QAAQ,CACzC,CAAK,CACL"}